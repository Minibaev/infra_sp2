# Учебный проект: API проекта "YaMDb"
 
# Проект YaMDb
Проект YaMDb собирает отзывы (Review) пользователей на произведения (Title). Произведения делятся на категории: «Книги», «Фильмы», «Музыка». Список категорий (Category) может быть расширен (например, можно добавить категорию «Спорт» или «Видеоигры»).
 
В каждой категории есть произведения: книги, фильмы или музыка. Например, в категории «Книги» могут быть произведения «Война и мир» и «451 градус по Фаренгейту», а в категории «Музыка» — песня «Всё в порядке» исполнителя «DK» или песня «Come As You Are» группы «Nirvana». Произведению может быть присвоен жанр из списка предустановленных (например, «Электронная музыка», «Рок» или «Классическая музыка»). Новые жанры может создавать только администратор.
 
Читатели могут оставить к произведениям текстовые отзывы (Review) и выставить произведению рейтинг (оценку в диапазоне от 1 до 10). Из множества оценок автоматически высчитывается средняя оценка произведения.
 
 
## Техническое описание проекта YaMDb
Вам доступен репозиторий api_yamdb. К проекту по адресу /redoc подключена документация API YaMDb. В ней описаны шаблоны запросов к API и структура ожидаемых ответов. Для каждого запроса указаны уровни прав доступа: пользовательские роли, которым разрешён запрос.
 
*запросы к API начинаются с `/api/v1/`*
 
### Пользовательские роли
 
* **Аноним** — может просматривать описания произведений, читать отзывы и комментарии.
* **Аутентифицированный пользователь (user)**— может читать всё, как и Аноним, дополнительно может публиковать отзывы и ставить рейтинг произведениям, может комментировать чужие отзывы и ставить им оценки; может редактировать и удалять свои отзывы и комментарии.
* **Модератор (moderator)** — те же права, что и у Аутентифицированного пользователя плюс право удалять любые отзывы и комментарии.
* **Администратор (admin)** — полные права на управление проектом и всем его содержимым. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.
* **Администратор Django** — те же права, что и у роли Администратор.
 
## Установка 
Клонируем репозиторий на локальную машину:
 
```$ git clone https://github.com/Minibaev/infra_sp2.git```

 Запускаем docker-compose файл:

 ```docker-compose up```
 
 Выполняем миграции:
 
 ```docker-compose exec web python manage.py migrate```
 
 Создаем суперпользователя:
 
```docker-compose exec web python manage.py createsuperuser```
 
Собираем статику:
 
```docker-compose exec web python manage.py collectstatic --no-input```
 
Пересобираем контейнер и запускаем:
 
```docker-compose up -d --build```
 
Все готово к использованию API!
 
 
### Доступные методы:
метод                                                         | GET | POST | PUT | PATCH | DEL |
--------------------------------------------------------------|-----|------|-----|-------|-----|
/api/v1/auth/singup/ | - | V | - | - | - |
/api/v1/auth/token/| - | V | - | - | - |
/api/v1/titles/ | V | V | - | - | - |
/api/v1/titles/{titles_id}/ | V | - | - | V | V |
/api/v1/titles/{title_id}/reviews/  | V | V | - | - | - |
/api/v1/titles/{title_id}/reviews/{review_id}/ | V | - | - | V | V |
/api/v1/titles/{title_id}/reviews/{review_id}/comments/ | V | V | - | - | - |
/api/v1/titles/{title_id}/reviews/{review_id}/comments/{comment_id}/ | V | - | - | V | V |
/api/v1/users/ | V | V | - | - | - |
/api/v1/users/{username}/ | V | - | - | V | V |
/api/v1/categories/ | V | V | - | - | - |
/api/v1/categories/{slug}/ | - | - | - | - | V |
/api/v1/genres/ | V | V | - | - | - |
/api/v1/genres/{slug}/ | - | - | - | - | V |